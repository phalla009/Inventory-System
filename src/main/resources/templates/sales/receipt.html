<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Sale Receipt</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
	rel="stylesheet">
<style>
.receipt-header {
	color: blue;
	border-bottom: 2px solid #000;
	margin-bottom: 20px;
	padding-bottom: 10px;
}

.receipt-title {
	color: blue;
	text-align: center;
	font-size: 1.5rem;
	font-weight: bold;
	margin-bottom: 20px;
	text-align: center;
}

.receipt-section {
	margin-bottom: 20px;
}

.receipt-table th, .receipt-table td {
	border-bottom: 1px solid #dee2e6;
	padding: 8px;
}

.receipt-total td {
	font-weight: bold;
}

@media print {
	.no-print {
		display: none !important;
	}
}
</style>
</head>
<body class="p-4">

	<div class="container border p-4 shadow-sm">
		<!-- Header -->
		<div class="row receipt-header">
			<div class="col-8">
				<h5>K R Company</h5>
				<p>1234 Company St, Company Town, ST 12345</p>
			</div>
			<div class="col-4 text-end">
				<!-- Company Logo -->
				<img th:src="@{/images/kr.png}" alt="Company Logo"
					style="max-width: 100px; max-height: 50px; object-fit: contain;">
			</div>

		</div>

		<!-- Title -->
		<div class="receipt-title">R E C E I P T</div>

		<!-- Billed To / Info -->
		<div class="row receipt-section">
			<div class="col-6">
				<p>
					<strong>Customer:</strong>
				</p>
				<p th:text="${sale.customer_name}">Customer Name</p>

			</div>
			<div class="col-6 text-end">
				<p>
					<strong>Receipt #:</strong> <span th:text="${sale.id}">0000457</span>
				</p>
				<p>
					<strong>Receipt Date:</strong> <span
						th:text="${#temporals.format(sale.created_at, 'dd-MM-yyyy')}">11-04-2025</span>
				</p>
			</div>
		</div>

		<!-- Items Table -->
		<table class="table table-bordered receipt-table">
			<thead>
				<tr class="border table-header">
					<th>QTY</th>
					<th>Description</th>
					<th>Unit Price</th>
					<th>Amount</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td th:text="${sale.quantity}">2</td>
					<td th:text="${sale.product.name}">Custom product/service A</td>
					<td>$<span
						th:text="${T(java.lang.String).format('%.2f', sale.price)}"></span></td>
					<td>$<span
						th:text="${T(java.lang.String).format('%.2f', sale.subtotal)}"></span></td>
				</tr>
				<!-- Add more items dynamically using th:each -->
			</tbody>
			<tfoot>
				<tr class="receipt-total">
					<td colspan="3" class="text-end">SubTotal</td>
					<td>$<span
						th:text="${T(java.lang.String).format('%.2f', sale.subtotal)}"></span></td>
				</tr>
				<tr class="receipt-total">
					<td colspan="3" class="text-end">Discount(%)</td>
					<td>%<span
						th:text="${T(java.lang.String).format('%.2f', sale.subtotal * 0)}"></span></td>
				</tr>
				<tr class="receipt-total">
					<td colspan="3" class="text-end">Sales Tax (0%)</td>
					<td>$<span
						th:text="${T(java.lang.String).format('%.2f', sale.subtotal * 0)}"></span></td>
				</tr>
				<tr class="receipt-total">
					<td colspan="3" class="text-end">Total (USD)</td>
					<td>$<span
						th:text="${T(java.lang.String).format('%.2f', sale.subtotal * 1)}"></span></td>
				</tr>
			</tfoot>

		</table>

		<!-- Notes -->
		<div class="receipt-section">
			<p>
				<strong>Notes:</strong>
			</p>
			<p class="small">Thank you for your purchase! All sales are final
				after 30 days. Please retain this receipt for warranty or exchange
				purposes.</p>
			<p class="small">For questions or support, contact us at
				kr@gemail.com or (855) 96 477 55 15.</p>
		</div>


		<!-- Footer Buttons -->
		<div class="text-center mt-4 no-print">
			<button class="btn btn-primary" onclick="window.print()">
				<i class="bi bi-printer"></i> Print
			</button>
			<a th:href="@{/sales}" class="btn btn-secondary">Back to Sales</a>
		</div>

	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
